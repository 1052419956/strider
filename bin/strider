#!/usr/bin/env node

var argv = require('optimist')
      .usage('Strider Continuous Deployment CLI\nUsage: $0 [options]')
      .argv,
    common = require('../common'),
    main = require('../main'),
    path = require('path');

// Extensions are either in ../node_modules (if local)
// or __dirname/../
var extdir = path.resolve(__dirname + "../node_modules");
try {
  fs.statSync(extdir);
} catch(e) {
  extdir = path.resolve(__dirname + "/../node_modules");
}

// Save extension dir
common.extdir = extdir;

// Load & initialize extensions
main(extdir);
